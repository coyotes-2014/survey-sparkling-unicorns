

<script>
$(function() {
    $('#container').highcharts({
        chart: {
        type: 'column',
        options3d: {
            enabled: true,
            alpha: 15,
            beta: 15,
            viewDistance: 25,
            depth: 40
        },
        marginTop: 80,
        marginRight: 40
    },

    title: {
        text: 'Answers, grouped by question'
    },

    xAxis: {
        categories: [<%=@question.answers[0]%>, <%=@question.answers[1]%>, <%=@question.answers[2]%>, <%=@question.answers[3]%>,]
    },

    yAxis: {
        allowDecimals: false,
        min: 0,
        title: {
            text: 'Times Chosen'
        }
    },

    tooltip: {
        headerFormat: '<b>{point.key}</b><br>',
        pointFormat: '<span style="color:{series.color}">\u25CF</span> {series.name}: {point.y} / {point.stackTotal}'
    },

    plotOptions: {
        column: {
            stacking: 'normal',
]           depth: 40
        }
    },

    series: [{
        name: 'Times Chosen',
        data: [<%=QuestionAnswers.where(question_id: @question.id).where(answer_id: answer.id).count %>, 3, 4, 7],
        stack: 'male'
    }],
});
</script>
